"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Led_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Led"));
const mongoose_1 = __importDefault(require("mongoose"));
class LedsController {
    async DatosLed() {
        await mongoose_1.default.connect('mongodb+srv://admin:12345@sandbox.qlfli.mongodb.net/Sensores?retryWrites=true&w=majority');
        const buscar = await Led_1.default.LedModelo.find().sort({ $natural: 1 });
        return buscar;
    }
    async InsertarLed({ request, response }) {
        await mongoose_1.default.connect('mongodb+srv://admin:12345@sandbox.qlfli.mongodb.net/Sensores?retryWrites=true&w=majority');
        const led = request.input('led');
        const fecha = new Date();
        const crear = new Led_1.default.LedModelo({
            led: led,
            fecha: fecha
        });
        await crear.save();
        return response.json(crear);
    }
}
exports.default = LedsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0b3NMZWRzQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkRhdG9zTGVkc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSwrRUFBdUM7QUFDdkMsd0RBQStCO0FBRS9CLE1BQXFCLGNBQWM7SUFDeEIsS0FBSyxDQUFDLFFBQVE7UUFDakIsTUFBTSxrQkFBUSxDQUFDLE9BQU8sQ0FBQywwRkFBMEYsQ0FBQyxDQUFBO1FBQ2xILE1BQU0sTUFBTSxHQUFDLE1BQU0sYUFBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUNqRSxPQUFPLE1BQU0sQ0FBQTtJQUNqQixDQUFDO0lBRU0sS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUM7UUFDdkMsTUFBTSxrQkFBUSxDQUFDLE9BQU8sQ0FBQywwRkFBMEYsQ0FBQyxDQUFBO1FBRWpILE1BQU0sR0FBRyxHQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDOUIsTUFBTSxLQUFLLEdBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQTtRQUV0QixNQUFNLEtBQUssR0FBRyxJQUFJLGFBQVMsQ0FBQyxTQUFTLENBQUU7WUFDckMsR0FBRyxFQUFFLEdBQUc7WUFDUixLQUFLLEVBQUMsS0FBSztTQUNaLENBQUMsQ0FBQTtRQUVGLE1BQU0sS0FBSyxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2xCLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUMvQixDQUFDO0NBQ0w7QUFyQkQsaUNBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcbmltcG9ydCBMZWRNb2RlbG8gZnJvbSAnQXBwL01vZGVscy9MZWQnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWRzQ29udHJvbGxlciB7XG4gICAgcHVibGljIGFzeW5jIERhdG9zTGVkKCl7XG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QoJ21vbmdvZGIrc3J2Oi8vYWRtaW46MTIzNDVAc2FuZGJveC5xbGZsaS5tb25nb2RiLm5ldC9TZW5zb3Jlcz9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknKVxuICAgICAgICBjb25zdCBidXNjYXI9YXdhaXQgTGVkTW9kZWxvLkxlZE1vZGVsby5maW5kKCkuc29ydCh7JG5hdHVyYWw6MX0pO1xuICAgICAgICByZXR1cm4gYnVzY2FyXG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEluc2VydGFyTGVkKHtyZXF1ZXN0LHJlc3BvbnNlfSl7XG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QoJ21vbmdvZGIrc3J2Oi8vYWRtaW46MTIzNDVAc2FuZGJveC5xbGZsaS5tb25nb2RiLm5ldC9TZW5zb3Jlcz9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknKVxuIFxuICAgICAgICAgY29uc3QgbGVkPXJlcXVlc3QuaW5wdXQoJ2xlZCcpXG4gICAgICAgICBjb25zdCBmZWNoYT1uZXcgRGF0ZSgpXG4gICAgIFxuICAgICAgICAgY29uc3QgY3JlYXIgPSBuZXcgTGVkTW9kZWxvLkxlZE1vZGVsbyAoe1xuICAgICAgICAgICBsZWQ6IGxlZCxcbiAgICAgICAgICAgZmVjaGE6ZmVjaGFcbiAgICAgICAgIH0pXG4gICAgIFxuICAgICAgICAgYXdhaXQgY3JlYXIuc2F2ZSgpXG4gICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbihjcmVhcilcbiAgICAgfVxufVxuIl19