"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Movimiento_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Movimiento"));
const mongoose_1 = __importDefault(require("mongoose"));
class DatosMovimentosController {
    async mostrarMovimiento() {
        await mongoose_1.default.connect('mongodb+srv://admin:12345@sandbox.qlfli.mongodb.net/Sensores?retryWrites=true&w=majority');
        const buscar = await Movimiento_1.default.MovimientoModelo.find().sort({ $natural: 1 });
        return buscar;
    }
    async insertarMovi({ request, response }) {
        await mongoose_1.default.connect('mongodb+srv://admin:12345@sandbox.qlfli.mongodb.net/Sensores?retryWrites=true&w=majority');
        const movimiento = request.input('movimiento');
        const fecha = new Date();
        const crear = new Movimiento_1.default.MovimientoModelo({
            movimiento: movimiento,
            fecha: fecha
        });
        await crear.save();
        return response.json(crear);
    }
}
exports.default = DatosMovimentosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0b3NNb3ZpbWVudG9zQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkRhdG9zTW92aW1lbnRvc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSw2RkFBcUQ7QUFDckQsd0RBQStCO0FBRS9CLE1BQXFCLHlCQUF5QjtJQUNuQyxLQUFLLENBQUMsaUJBQWlCO1FBQzFCLE1BQU0sa0JBQVEsQ0FBQyxPQUFPLENBQUMsMEZBQTBGLENBQUMsQ0FBQTtRQUNsSCxNQUFNLE1BQU0sR0FBQyxNQUFNLG9CQUFnQixDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO1FBQy9FLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFTSxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQztRQUN4QyxNQUFNLGtCQUFRLENBQUMsT0FBTyxDQUFDLDBGQUEwRixDQUFDLENBQUE7UUFFbEgsTUFBTSxVQUFVLEdBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQTtRQUM1QyxNQUFNLEtBQUssR0FBRSxJQUFJLElBQUksRUFBRSxDQUFBO1FBRXZCLE1BQU0sS0FBSyxHQUFHLElBQUksb0JBQWdCLENBQUMsZ0JBQWdCLENBQUU7WUFDakQsVUFBVSxFQUFFLFVBQVU7WUFDdEIsS0FBSyxFQUFFLEtBQUs7U0FDZixDQUFDLENBQUE7UUFFRixNQUFNLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUNsQixPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDakMsQ0FBQztDQUNGO0FBckJELDRDQXFCQyIsInNvdXJjZXNDb250ZW50IjpbIi8vaW1wb3J0IHR5cGUgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcclxuaW1wb3J0IE1vdmltaWVudG9Nb2RlbG8gZnJvbSAnQXBwL01vZGVscy9Nb3ZpbWllbnRvJztcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0b3NNb3ZpbWVudG9zQ29udHJvbGxlciB7XHJcbiAgICBwdWJsaWMgYXN5bmMgbW9zdHJhck1vdmltaWVudG8oKXtcclxuICAgICAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KCdtb25nb2RiK3NydjovL2FkbWluOjEyMzQ1QHNhbmRib3gucWxmbGkubW9uZ29kYi5uZXQvU2Vuc29yZXM/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JylcclxuICAgICAgICBjb25zdCBidXNjYXI9YXdhaXQgTW92aW1pZW50b01vZGVsby5Nb3ZpbWllbnRvTW9kZWxvLmZpbmQoKS5zb3J0KHskbmF0dXJhbDoxfSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1c2NhclxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBpbnNlcnRhck1vdmkoe3JlcXVlc3QscmVzcG9uc2V9KXtcclxuICAgICAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KCdtb25nb2RiK3NydjovL2FkbWluOjEyMzQ1QHNhbmRib3gucWxmbGkubW9uZ29kYi5uZXQvU2Vuc29yZXM/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JylcclxuXHJcbiAgICAgICAgY29uc3QgbW92aW1pZW50bz1yZXF1ZXN0LmlucHV0KCdtb3ZpbWllbnRvJylcclxuICAgICAgICBjb25zdCBmZWNoYT0gbmV3IERhdGUoKVxyXG4gICAgXHJcbiAgICAgICAgY29uc3QgY3JlYXIgPSBuZXcgTW92aW1pZW50b01vZGVsby5Nb3ZpbWllbnRvTW9kZWxvICh7XHJcbiAgICAgICAgICAgIG1vdmltaWVudG86IG1vdmltaWVudG8sXHJcbiAgICAgICAgICAgIGZlY2hhIDpmZWNoYVxyXG4gICAgICAgIH0pXHJcbiAgICBcclxuICAgICAgICBhd2FpdCBjcmVhci5zYXZlKClcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbihjcmVhcilcclxuICB9XHJcbn1cclxuIl19